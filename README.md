# STZ压缩解压工具

一款支持多种压缩算法的文件压缩和解压工具，具有直观的图形界面和丰富的功能。

## 功能特性

- ✅ 支持多种压缩算法（zlib、bz2、lzma等）
- ✅ 提供1-9级压缩级别选择
- ✅ 支持文件和文件夹压缩
- ✅ 支持密码加密保护
- ✅ 支持压缩包修改功能
- ✅ 响应式图形界面
- ✅ 多语言支持
- ✅ 主题切换功能
- ✅ 内置帮助文档

## 快速开始

### 本地部署

#### 环境要求
- Python 3.7 或更高版本
- PySide6
- 其他依赖项见 requirements.txt

#### 安装步骤

1. **克隆或下载项目**
   ```bash
   git clone <repository-url>
   cd 好压
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **运行程序**
   ```bash
   python main.py
   ```

## 打包指南

### 使用 PyInstaller 打包

1. **安装 PyInstaller**
   ```bash
   pip install pyinstaller
   ```

2. **单文件打包（Windows）**
   ```bash
   pyinstaller --onefile --windowed --name "STZ压缩工具" --icon=app.ico main.py
   ```

3. **多文件打包（Windows）**
   ```bash
   pyinstaller --windowed --name "STZ压缩工具" --icon=app.ico main.py
   ```

### 打包参数说明

| 参数 | 说明 | 示例 |
|------|------|------|
| `--onefile` | 生成单个可执行文件 | `--onefile` |
| `--windowed` | 不显示控制台窗口 | `--windowed` |
| `--name` | 指定生成的可执行文件名称 | `--name "STZ压缩工具"` |
| `--icon` | 指定应用图标 | `--icon=app.ico` |
| `--add-data` | 添加额外文件 | `--add-data "help.html;."` |
| `--hidden-import` | 添加隐藏导入 | `--hidden-import=pyside6` |

### 完整打包命令示例

```bash
pyinstaller --onefile --windowed --name "STZ压缩工具" --icon=app.ico --add-data "help.html;." main.py
```

## 使用说明

### 压缩文件

1. 点击"添加文件"或"添加文件夹"按钮，选择要压缩的文件或文件夹
2. 选择压缩级别（1-9，数字越大压缩率越高但速度越慢）
3. （可选）勾选"使用密码加密"并输入密码，为压缩包添加加密保护
4. 点击"开始压缩"按钮，选择保存路径，开始压缩过程

### 解压文件

1. 在"解压"标签页中，点击"选择文件"按钮，选择要解压的压缩包
2. （可选）如果压缩包有密码，勾选"输入密码"并输入正确的密码
3. 点击"开始解压"按钮，选择解压路径，开始解压过程

### 修改压缩包

1. 在"修改压缩包"标签页中，点击"选择压缩包"按钮，选择要修改的压缩包
2. 选择要添加或删除的文件
3. 点击"保存修改"按钮，保存修改后的压缩包

## 配置说明

### 配置文件位置
- **普通用户**：`C:\Users\XXX\AppData\Local\STZ压缩工具\config.json`
- **管理员用户**：`C:\ProgramData\STZ压缩工具\config.json`
- **便携模式**：程序目录下的 `config.json`

### 主要配置参数

| 参数 | 类型 | 说明 | 默认值 |
|------|------|------|--------|
| `default_compression_level` | int | 默认压缩级别（1-9） | 6 |
| `language` | string | 界面语言（"zh" 或 "en"） | "zh" |
| `theme` | string | 界面主题（"system", "light", "dark"） | "system" |
| `output_format` | string | 默认输出格式（"stz", "zip", "tar.gz"） | "stz" |
| `auto_open_output` | bool | 压缩完成后自动打开输出目录 | true |

## 常见问题解决方案

### 问题1：程序无法启动

**症状**：双击可执行文件后无反应或显示错误信息

**解决方案**：
- 确保已安装正确版本的 Python
- 检查依赖项是否安装完整：`pip install -r requirements.txt`
- 尝试以管理员身份运行程序
- 检查程序目录下是否存在 `help.html` 文件

### 问题2：压缩失败

**症状**：点击"开始压缩"后显示错误信息

**解决方案**：
- 检查文件路径是否包含特殊字符
- 确保有足够的磁盘空间
- 检查是否有权限访问要压缩的文件
- 尝试降低压缩级别

### 问题3：解压失败

**症状**：点击"开始解压"后显示错误信息

**解决方案**：
- 检查压缩包是否损坏
- 确保输入了正确的密码（如果有密码保护）
- 检查是否有权限写入解压路径

### 问题4：界面显示异常

**症状**：界面布局混乱或文字显示不正确

**解决方案**：
- 确保屏幕分辨率设置合理
- 尝试调整窗口大小
- 检查系统语言设置

### 问题5：程序崩溃

**症状**：程序突然关闭且无错误提示

**解决方案**：
- 查看日志文件获取详细错误信息
- 尝试以兼容模式运行程序
- 检查系统是否有足够的内存

## 日志文件

日志文件位置：
- **普通用户**：`C:\Users\XXX\AppData\Local\STZ压缩工具\logs`
- **管理员用户**：`C:\ProgramData\STZ压缩工具\logs`
- **便携模式**：程序目录下的 `logs` 文件夹

日志文件包含程序运行的详细信息，有助于排查问题。

## 技术支持

如果您在使用过程中遇到问题，可以：

1. 查看内置帮助文档（点击界面右上角的"帮助"按钮）
2. 检查 README.md 文件获取详细说明
3. 查看日志文件获取错误信息
4. 联系技术支持团队

## 许可证

本软件采用 MIT 许可证，详见 LICENSE 文件。

## 更新日志

### v1.0.0
- 初始版本发布
- 支持基本的压缩和解压功能
- 提供图形用户界面
- 支持密码加密

### v1.1.0
- 添加响应式布局支持
- 增加主题切换功能
- 支持多语言
- 内置帮助文档

### v1.2.0
- 优化压缩算法性能
- 增加压缩包修改功能
- 改进用户界面
- 修复已知问题

---

**注意**：本工具仅供学习和个人使用，请勿用于商业用途。"# stzip" 

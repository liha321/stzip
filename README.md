# STZ压缩解压工具

一款功能强大、界面友好的文件压缩与解压工具，支持多种压缩算法和丰富的功能特性，为您提供高效便捷的文件压缩解压体验。

## 🚀 功能特性

- **多算法支持**：内置 zlib、bz2、lzma 等多种压缩算法
- **多级压缩**：提供 1-9 级压缩级别，平衡压缩率与速度
- **灵活压缩**：支持单个文件或整个文件夹压缩
- **安全加密**：可选密码加密保护，确保文件安全
- **压缩包修改**：支持添加、删除压缩包内文件
- **压缩率分析**：提供详细的压缩率分析功能
- **历史记录**：自动记录压缩解压操作历史
- **响应式界面**：适配不同屏幕尺寸的现代图形界面
- **多语言支持**：支持中英文界面切换
- **主题切换**：支持系统、亮色、暗色三种主题
- **内置帮助**：提供完整的使用帮助文档

## 📦 快速开始

### 环境要求

- Python 3.7 及以上版本
- PySide6 图形界面库
- 其他依赖项见 `requirements.txt`

### 安装步骤

1. **获取项目**
   ```bash
   git clone <repository-url>
   cd 好压
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **运行程序**
   ```bash
   python main.py
   ```

## 📤 打包指南

### 使用 PyInstaller 打包

1. **安装打包工具**
   ```bash
   pip install pyinstaller
   ```

2. **单文件打包（Windows）**
   ```bash
   pyinstaller --onefile --windowed --name "STZ压缩工具" --icon=app.ico main.py
   ```

3. **多文件打包（Windows）**
   ```bash
   pyinstaller --windowed --name "STZ压缩工具" --icon=app.ico main.py
   ```

### 打包参数说明

| 参数 | 说明 | 示例 |
|------|------|------|
| `--onefile` | 生成单个可执行文件 | `--onefile` |
| `--windowed` | 不显示控制台窗口 | `--windowed` |
| `--name` | 指定可执行文件名称 | `--name "STZ压缩工具"` |
| `--icon` | 设置应用程序图标 | `--icon=app.ico` |
| `--add-data` | 添加额外资源文件 | `--add-data "help.html;."` |
| `--hidden-import` | 添加隐藏的依赖导入 | `--hidden-import=pyside6` |

### 完整打包命令

```bash
pyinstaller --onefile --windowed --name "STZ压缩工具" --icon=app.ico --add-data "help.html;." main.py
```

## 📖 使用说明

### 压缩文件

1. 在"文件压缩"标签页中，点击"添加文件"或"添加文件夹"按钮
2. 选择要压缩的文件或文件夹
3. 选择合适的压缩级别（1-9）
   - 级别 1：压缩速度最快，压缩率最低
   - 级别 9：压缩速度最慢，压缩率最高
4. （可选）勾选"使用密码加密"并设置密码
5. 点击"开始压缩"，选择保存路径，等待压缩完成

### 解压文件

1. 切换到"文件解压"标签页
2. 点击"选择文件"按钮，选择要解压的压缩包
3. （可选）如果压缩包有密码保护，勾选"输入密码"并填写密码
4. 点击"开始解压"，选择解压路径，等待解压完成

### 修改压缩包

1. 进入"修改压缩包"标签页
2. 点击"选择压缩包"按钮，打开要修改的压缩包
3. 点击"添加文件"或"添加文件夹"向压缩包中添加内容
4. 或选择已有文件，点击"删除文件"移除内容
5. 点击"保存修改"，保存更新后的压缩包

### 压缩率分析

1. 切换到"压缩率分析"标签页
2. 选择一个或多个文件进行分析
3. 程序将自动计算并展示不同算法的压缩率对比

### 查看历史记录

1. 进入"历史记录"标签页
2. 查看所有压缩和解压操作历史
3. 可根据操作类型、日期范围等条件筛选记录
4. 支持重新执行、查看详情或删除记录

## ⚙️ 配置说明

### 配置文件位置

- **普通用户**：`C:\Users\用户名\AppData\Local\STZ压缩工具\config.json`
- **管理员用户**：`C:\ProgramData\STZ压缩工具\config.json`
- **便携模式**：程序根目录下的 `config.json`

### 主要配置参数

| 参数 | 类型 | 说明 | 默认值 |
|------|------|------|--------|
| `default_compression_level` | int | 默认压缩级别（1-9） | 6 |
| `language` | string | 界面语言（zh/en） | zh |
| `theme` | string | 界面主题（system/light/dark） | system |
| `output_format` | string | 默认输出格式 | stz |
| `auto_open_output` | bool | 压缩完成后自动打开输出目录 | true |

## 🤔 常见问题

### 程序无法启动

**症状**：双击程序无反应或显示错误信息

**解决方案**：
- 确保安装了正确版本的 Python
- 执行 `pip install -r requirements.txt` 安装所有依赖
- 尝试以管理员身份运行程序
- 检查程序目录下是否存在 `help.html` 文件

### 压缩/解压失败

**症状**：操作过程中显示错误信息

**解决方案**：
- 检查文件路径是否包含特殊字符
- 确保磁盘有足够的可用空间
- 检查文件/文件夹访问权限
- 压缩失败可尝试降低压缩级别
- 解压失败检查压缩包是否损坏或密码是否正确

### 界面显示异常

**症状**：界面布局错乱或文字显示异常

**解决方案**：
- 调整屏幕分辨率至推荐设置
- 尝试调整窗口大小
- 检查系统语言设置是否正确

### 程序崩溃

**症状**：程序突然关闭且无提示

**解决方案**：
- 查看日志文件获取详细错误信息
- 检查系统内存是否充足
- 尝试重新安装依赖项

## 📝 日志文件

日志文件记录了程序运行的详细信息，便于排查问题：

- **普通用户**：`C:\Users\用户名\AppData\Local\STZ压缩工具\logs`
- **管理员用户**：`C:\ProgramData\STZ压缩工具\logs`
- **便携模式**：程序根目录下的 `logs` 文件夹

## 🆘 技术支持

遇到问题时，您可以通过以下方式获取帮助：

1. 点击界面右上角的"帮助"按钮查看内置文档
2. 查阅本 README.md 文件获取详细说明
3. 查看日志文件分析错误原因
4. 联系技术支持团队获取协助

## 📄 许可证

本软件采用 **MIT 许可证** 开源，详见 LICENSE 文件。

## 📋 更新日志

### v1.2.0 (最新)
- ✨ 新增压缩率分析功能
- ✨ 新增操作历史记录功能
- ⚡ 优化压缩算法性能
- 🎨 改进用户界面设计
- 🐛 修复已知问题

### v1.1.0
- ✨ 新增响应式布局支持
- ✨ 新增主题切换功能
- ✨ 新增多语言支持
- ✨ 新增内置帮助文档

### v1.0.0
- ✨ 初始版本发布
- ✨ 支持基本压缩解压功能
- ✨ 提供图形用户界面
- ✨ 支持密码加密保护

## 📌 注意事项

- 本工具仅供学习和个人使用
- 请勿用于商业用途
- 对于重要文件，请做好备份后再进行压缩操作
- 使用密码加密时，请确保记住密码，丢失密码无法恢复文件 
